- name: Download Dropbox .deb
  get_url:
    url: https://www.dropbox.com/download?dl=packages/ubuntu/dropbox_2020.03.04_amd64.deb
    dest: /tmp/dropbox.deb
  tags:
    - install
    - productivity

- name: Install Dropbox .deb package
  become: true
  apt:
    deb: /tmp/dropbox.deb
  tags:
    - install
    - productivity

- name: Dropbox Fix Keyring
  become: true
  shell: >
    apt-key export 5044912E | gpg --dearmor -o /etc/apt/trusted.gpg.d/dropbox.gpg
    && apt-key --keyring /etc/apt/trusted.gpg del 5044912E
  tags:
    - install
    - productivity

- name: KeepassXC PPA (ppa:phoerious/keepassxc)
  become: true
  apt_repository:
   repo: ppa:phoerious/keepassxc
   state: present
   update_cache: True
  tags:
    - install
    - productivity

- name: KeepassXC Fix Keyring
  become: true
  shell: >
    apt-key export 0068FCD6 | gpg --dearmor -o /etc/apt/trusted.gpg.d/keepassxc.gpg
    && apt-key --keyring /etc/apt/trusted.gpg del 0068FCD6
  tags:
    - install
    - productivity

- name: Emacs PPA (ppa:kelleyk/emacs)
  become: true
  apt_repository:
   repo: ppa:kelleyk/emacs
   state: present
   update_cache: True
  tags:
    - install
    - productivity

- name: Emacs Fix Keyring
  become: true
  shell: >
    apt-key export EAAFC9CD | gpg --dearmor -o /etc/apt/trusted.gpg.d/emacs.gpg
    && apt-key --keyring /etc/apt/trusted.gpg del EAAFC9CD
  tags:
    - install
    - productivity

- name: GIMP PPA (ppa:ubuntuhandbook1/gimp)
  become: true
  apt_repository:
   repo: ppa:ubuntuhandbook1/gimp
   state: present
   update_cache: True
  tags:
    - install
    - productivity

- name: Gimp Fix Keyring
  become: true
  shell: >
    apt-key export 852541CB | gpg --dearmor -o /etc/apt/trusted.gpg.d/gimp.gpg
    && apt-key --keyring /etc/apt/trusted.gpg del 852541CB
  tags:
    - install
    - productivity

- name: Inkscape PPA (ppa:inkscape.dev/stable)
  become: true
  apt_repository:
   repo: ppa:inkscape.dev/stable
   state: present
   update_cache: True
  tags:
    - install
    - productivity

- name: Inkscape Fix Keyring
  become: true
  shell: >
    apt-key export B9A06DE3 | gpg --dearmor -o /etc/apt/trusted.gpg.d/inkscape.gpg
    && apt-key --keyring /etc/apt/trusted.gpg del B9A06DE3
  tags:
    - install
    - productivity

- name: Install Random Productivity Tools
  become: true
  apt:
    update_cache: yes
    name: [
      "bc",
      "wireshark",
      "fzf",
      "xclip",
      "tldr",
      "ripgrep",
      "shutter",
      "k3b",
      "k3b-data",
      "k3b-extrathemes",
      "emacs28",
      "emacs28-common",
      "gimp",
      "gimp-data",
      "gimp-data-extras",
      "gimp-gmic",
      "gimp-gutenprint",
      "inkscape",
      "keepassxc",
      "dropbox",
      "skanlite"
    ]
  tags:
    - install
    - productivity
